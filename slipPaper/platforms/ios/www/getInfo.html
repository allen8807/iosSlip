<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>小纸条</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <!-- Include the compiled Ratchet CSS -->
    <link href="css/ratchet.css" rel="stylesheet">

    <!-- Include the compiled Ratchet JS -->
    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/ratchet.js"></script>
    <script src="js/push.js"></script>
      <script src="js/push.js"></script>
    <script  type="text/javascript">
       $(document).ready(function(){
         var url = "http://182.92.192.130/post/9787121180910";
          $.ajax({ 
                type: "get", 
                 url: url, 
                 dataType: "json", 
                 success: function (result) { 
                   if(!!result['posts']){
                    var res = jQuery.parseJSON(result['posts']);
                    console.log(res);
                      var props = "";
                       // 开始遍历
                       for(var p in res){ 
                              var author = res[p]["author"];
                              var content = res[p]["content"];
                              props +=  '<li class="table-view-cell media"><img class="media-object pull-left" src="img/cat.jpg"><div class="media-body">'+ author+"<p>"+content+"</p></div></li>";
                             // props += key + "=" + value + ";  ";
                      }
                   $("#result").html(props);
                  }               
                }, 
                  error: function (XMLHttpRequest, textStatus, errorThrown) { 
                        alert(errorThrown); 
                } 
            });
});
</script>

  </head>
  <body>

    <!-- Make sure all your bars are the first things in your <body> -->
    <header class="bar bar-nav">
      <button class="btn btn-link btn-nav pull-left">
          <span class="icon icon-left-nav"></span>
        <a class="tab-item" href="findPage.html">返回</a>
      </button>
      <h1 class="title">笔记</h1>
       <a class="icon icon-compose pull-right" href="writeNote.html"></a>
    </header>

    <!-- Wrap all non-bar HTML in the .content div (this is actually what scrolls) -->
     <div class="content">
      <div class="content-padded">
        <div class="card">
        <ul class="table-view">
            <div  id="result" ></div> 
       </ul>   
       </div>   
      </div>
    </div>


  </body>
</html>